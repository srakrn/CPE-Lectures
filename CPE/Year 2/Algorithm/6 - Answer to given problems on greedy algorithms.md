# Answer to given problems

*(ไม่ใช่เลกเชอร์ แต่เป็นโจทย์ Exchange arguement)*

## โจทย์

คุณรักการกินบุฟม่อนมากๆ แต่เนื่องจากชีวิตของคุณมัน #เศร้าเหี้ย #เศร้าเหี้ย คุณเลยอยู่ในจักรวาลที่การกินบุฟม่อนมีข้อจำกัดดังนี้

* คุณสามารถกินได้เพียงเดือนละครั้ง
* ร้านแต่ละร้านมี__ราคาตั้งต้น__ เขียนแทนด้วย $p_i$ สำหรับราคาตั้งต้นของร้านที่ $i$ ไม่เท่ากัน
* ราคาบุฟม่อนเปลี่ยนไปในแต่ละเดือน โดยที่การกินบุฟม่อนร้านที่ $i$ ในเดือนที่ $j$ จะต้องจ่ายเงิน $p\_i^j$ (ราคาตั้งต้น ยกกำลังเดือนที่ผ่านไป) บาท

กรุณาหาอัลกอริทึมที่เมื่อให้ราคาร้านบุฟม่อน $N$ ร้าน (ตั้งแต่ร้านที่ $1, 2, ..., n$) แล้ว สามารถไล่วิธีการกินบุฟม่อนที่จะทำให้คุณกินครบทุกร้านโดยจ่ายเงินน้อยที่สุด

## วิธีทำ

### วิธีคิดอัลกอริทึม

อืม... แค่การกินบุฟม่อนก็ต้องมีอัลกอริทึม...

เมื่อมาไล่ๆ ดูแล้วคุณพบว่าหากคุณกินร้านถูกก่อนแล้วค่อยไปกินร้านแพง ราคาร้านแพงจะเพิ่มขึ้นแบบทวีคูณซึ่งคงไม่ดีกับเงินของคุณ ดังนั้นคุณเลยตัดสินใจว่าคุณควรจะกินร้านแพงก่อน (ราคาเพิ่มขึ้นไม่มาก) ก่อนจะไปกินร้านถูก วิธีนี้น่าจะดีที่สุด

### วิธีพิสูจน์

สำหรับ $i < j$ ให้ร้านบุฟเฟ่ต์แซลม่อนร้านที่ $i, j$ มีราคาตั้งต้น $p\_i < p\_j$

เราจะสร้างผลเฉลยจากอัลกอริทึม $S$ เป็นลำดับการกินร้านแซลม่อนดังนี้

$$S = \\{N, N-1, N-2, ..., 1\\}$$

เมื่อค่าบวก $i$ ใดๆ แสดงการกินแซลม่อนร้านที่ $i$ และ $-1$ แสดงการว่างเว้นจากแซลม่อน

สำหรับผลเฉลย $O$ ใดๆ เราจะพิจารณาการจัดลำดับดังนี้

* __หากในผลเฉลย $O$ มีเดือนที่ $m$ ที่ไม่กินบุฟม่อน__ เราจะพบว่าราคาของการกินบุฟม่อนหลังจากเดือนนั้นจะแพงขึ้น และการตัดทอนเดือนที่ไม่ได้กินออกไปจะทำให้ราคาบุฟม่อนถูกกลง
* __หากในผลเฉลย $i$ มาก่อน $j$ (เมื่อ $i < j$) กล่าวคือกินร้านแพงก่อน__ เราจะสมมติร้านบุฟม่อน $k$ เป็นร้านที่ไปกินต่อจากร้าน $i$ และ $j$
    * หากกิน $j$ ก่อน $i$ ราคารวมของการกินร้าน j, i, k จะเป็น $p_j + p_i^2 + p_k^3$
    * หากกิน $i$ ก่อน $j$ ราคารวมของการกินร้าน i, j, k จะเป็น $p_i + p_j^2 + p_k^3$
     
    เราต้องการพิสูจน์ว่า $p_j + p_i^2 + p_k^3 < p_i + p_j^2 + p_k^3$ ซึ่งสามารถทำได้เพราะเรารู้ว่า $p_i < p_j$ __ดังนั้นการสลับร้าน $p_i$ มาไว้ก่อน $p_j$ จะให้ผลที่ดีกว่า $O$__

สองเงื่อนไขของการเปลี่ยนแปลงผลเฉลย $O$ ข้างต้นจะทำให้ผลเฉลย $O$ อยู่ในรูปของ $S$ จาก Greedy Algorithm __เป็นการพิสูจน์ว่า Greedy Algorithm ของเราให้ผลดีที่สุด__

---

สรุป: ปัญหาข้อนี้สอนให้เรารู้ว่าในภาวะที่บุฟม่อนแพงขึ้นเรื่อยๆ __จงกินบุฟม่อนทุกเดือน__
